# -*r coding: utf-8 -*-
class Category
  def self.hoge(parent_id)
    res = []
    Branch.where(
      :parent_id => parent_id,
      :is_fixed => false,
      :leaf_num => " > 0",
    ).each{ |branch|
      res.push(branch.title.name) if (!branch.title.url_id && branch.title.is_fixed == false && branch.title.is_ng == false)
    }
    res
  end

  def self.updt_all
    Branch.update_all(:is_fixed => false)
    Title.update_all(:is_ng => false, :is_fixed => false)
    ng_titles = [
      "test2-2", "test2-3", "test2-4", "test2-5", "test2-6", "test2-7", "test2-1-1", "test2-1-2", "test2-1-3",
      "tree(’²¾)’¤Ë’¤Ä’¤¤’¤Æ", "mindia’¤Ã’¤İ’¤¤’¤â’¤Î’¤ò’¤³’¤³’¤Ç’¤â", "’±Ñ’¸ì’¤Ç’¤â’½ñ’¤¤’¤Æ’¤ß’¤ë", "test2",
      "A", "B", "C","D", "jdoiajfojdfoas", "fugahoge", ",e", "aaaaaa", "aaaaa"
    ]
    ng_titles.each do |name|
      title = Title.find_by_name(name)
      title.update_attribute('is_ng', true)
    end
    self.updt(self.data, 0)
  end

  def self.updt(data, parent_id)
    data.each do |title, children|
      title = Title.get(title)
      branch = Branch.find_or_create_by_title_id_and_parent_id(
        title.id,
        parent_id
      )
      branch.is_fixed = true
      branch.save
      branch.title.is_fixed = true
      branch.title.save
      self.updt(children, branch.id)
    end
  end

  def self.data
    data = {
      "English" => {

      },
      "’Æü’ËÜ’¸ì" => {
        "iPhone’¥¢’¥×’¥ê" => {
          "’¥¨’¥ó’¥¿’¥á" => {},
          "’¶µ’°é" => {}, 
          "’ÆÉ’¤ß’Êª" => {}, 
          "’¥²’¡¼’¥à" => {}, 
          "’Î¹’¹Ô" => {},
          "’¥æ’¡¼’¥Æ’¥£’¥ê’¥Æ’¥£" => {},
          "’»Å’»ö’¸ú’Î¨’²½" => {}, 
          "’¥Ø’¥ë’¥¹’¥±’¥¢’¡¿’¥Õ’¥£’¥Ã’¥È’¥Í’¥¹" => {}
        }, 
        "’¥¨’¥ó’¥¿’¥á" => {
          "’²»’³Ú" => {},
          "’±Ç’²è" => {},
          "’¥Æ’¥ì’¥Ó" => {},
          "’¥é’¥¸’¥ª" => {}
        }, 
        "’¥²’¡¼’¥à" => {
          "GREE" => {},
          "’¥â’¥Ğ’¥²’¡¼" => {}, 
          "mixi" => {}, 
          "PSP" => {}, 
          "DS" => {},
          "Xbox" => {},
          "wii" => {}, 
          "PS3" => {}
        }, 
        "’»Ò’°é’¤Æ" => {
          "’Çº’¤ß" => {},
          "’¶µ’°é" => {},
          "’¿©’¤Ù’Êª" => {},
          "’Ãå’¤ë’Êª" => {}
        }, 
        "’Î¹’¹Ô" => {
          "’Æü’ËÜ" => {
            "’Åì’µş" => {
              "’Âå’¡¹’ÌÚ" => {
              }
            },
          },
          "’¥¢’¥¸’¥¢" => {},
          "’¥è’¡¼’¥í’¥Ã’¥Ñ" => {},
          "’¥¢’¥á’¥ê’¥«" => {},
          "’Æî’¥¢’¥á’¥ê’¥«" => {},
          "’¥¢’¥Õ’¥ê’¥«" => {},
          "’¥ª’¥»’¥¢’¥Ë’¥¢" => {}
        },
        "’¸ì’³Ø" => {
          "’Æü’ËÜ’¸ì" => {},
          "’±Ñ’¸ì" => {},
          "’Ãæ’¹ñ’¸ì" => {},
          "’´Ú’¹ñ’¸ì" => {},
          "’¥¤’¥¿’¥ê’¥¢’¸ì" => {},
          "’¥¹’¥Ú’¥¤’¥ó’¸ì" => {},
          "’¥Õ’¥é’¥ó’¥¹’¸ì" => {},
          "’¥í’¥·’¥¢’¸ì" => {},
          "’¥İ’¥ë’¥È’¥¬’¥ë’¸ì" => {},
          "’¥É’¥¤’¥Ä’¸ì" => {},
          "’¥¢’¥é’¥Ó’¥¢’¸ì" => {},
          "’¥¿’¥¬’¥í’¥°’¸ì" => {}
        }, 
        "’Îò’»Ë" => {
          "2010’Ç¯’Âå" => {},
          "2000’Ç¯’Âå" => {},
          "1990’Ç¯’Âå" => {},
          "1980’Ç¯’Âå" => {},
          "1970’Ç¯’Âå" => {},
          "1960’Ç¯’Âå" => {},
          "1950’Ç¯’Âå" => {},
          "1940’Ç¯’Âå" => {},
          "1930’Ç¯’Âå" => {},
          "1920’Ç¯’Âå" => {},
          "1910’Ç¯’Âå" => {},
          "1900’Ç¯’Âå" => {}
        }, 
        "’²Ê’³Ø" => {
          "’²Ê’³Ø’¼Ô" => {},
          "’¿ô’³Ø" => {},
          "’Êª’Íı’³Ø" => {},
          "’²½’³Ø" => {},
          "’°å’³Ø" => {},
          "’À¸’Ì¿’²Ê’³Ø" => {},
          "’ÃÏ’³Ø" => {},
          "’¾ğ’Êó’²Ê’³Ø" => {},
        }, 
        "’¿¦’¶È" => {
          "’¶â’Í»" => {},
          "IT" => {},
          "’¼«’Æ°’¼Ö’´Ø’Ï¢" => {},
          "’·ú’ÃÛ" => {},
          "’ÉÔ’Æ°’»º" => {},
          "’ÁÇ’ºà" => {},
          "’µ¡’³£’À½’Â¤" => {},
          "’ÅÅ’µ¡’¡¦’Àº’Ì©’µ¡’´ï" => {},
          "’À¸’³è’ÍÑ’ÉÊ" => {},
          "’³°’¿©" => {},
          "’±¿’Í¢" => {},
          "’Î®’ÄÌ" => {},
          "’¥¨’¥ó’¥¿’¥á" => {},
          "’¥Ş’¥¹’¥³’¥ß" => {}
        }, 
        "’À¯’¼£" => {
          "’À¯’ÅŞ" => {},
          "’¼Ò’²ñ’Ìä’Âê" => {}
        }, 
        "’¥¯’¥ê’¥¨’¥¤’¥Æ’¥£’¥Ö" => {}, 
        "IT" => {}
      }
    }
    data
  end
end
